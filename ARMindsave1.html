<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8" />
    <title>AR –î–µ—Ç–µ–∫—Ç–æ—Ä PC –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ - –ú–∞—Ç–µ—Ä–∏–Ω—Å—å–∫–∞ –ø–ª–∞—Ç–∞, CPU, RAM</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image-three.prod.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.150.1/build/three.module.js",
                "GLTFLoader": "https://unpkg.com/three@0.150.1/examples/jsm/loaders/GLTFLoader.js"
            }
        }
    </script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        #loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
            z-index: 100;
            background: rgba(0, 0, 0, 0.8);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #fff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        #status-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-size: 14px;
            z-index: 99;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 15px;
            max-width: 400px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        #main-status {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #4fc3f7;
        }

        .marker-status {
            margin: 10px 0;
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid;
            transition: all 0.3s ease;
        }

        .marker-active {
            background-color: rgba(76, 175, 80, 0.2);
            border-left-color: #4caf50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
        }

        .marker-inactive {
            background-color: rgba(244, 67, 54, 0.2);
            border-left-color: #f44336;
        }

        .component-name {
            font-weight: bold;
            font-size: 15px;
        }

        .component-description {
            font-size: 12px;
            margin-top: 5px;
            opacity: 0.8;
        }

        #info-panel {
            position: absolute;
            bottom: 20px;
            right: 20px;
            color: white;
            z-index: 99;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            max-width: 300px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: none;
        }

        #instructions {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: white;
            font-size: 12px;
            z-index: 99;
            background: rgba(0, 0, 0, 0.6);
            padding: 15px;
            border-radius: 10px;
            max-width: 250px;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="loading">
        <div class="loading-spinner"></div>
        <div>üîß –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è AR —Å–∏—Å—Ç–µ–º–∏ –¥–µ—Ç–µ–∫—Ü—ñ—ó PC –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤...</div>
        <div style="font-size: 14px; margin-top: 15px;">–î–æ–∑–≤–æ–ª—å—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ –∫–∞–º–µ—Ä–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –º–∞—Ä–∫–µ—Ä–∞–º–∏</div>
    </div>
    
    <div id="status-panel">
        <div id="main-status">üì° –°—Ç–∞—Ç—É—Å: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è AR —Å–∏—Å—Ç–µ–º–∏...</div>
        
        <div id="motherboard-status" class="marker-status marker-inactive">
            <div class="component-name">üîå –ú–∞—Ç–µ—Ä–∏–Ω—Å—å–∫–∞ –ø–ª–∞—Ç–∞ B550</div>
            <div class="component-description">–ú–∞—Ä–∫–µ—Ä (b_550.mind) - –ù–ï –ó–ù–ê–ô–î–ï–ù–û</div>
        </div>
        
        <div id="cpu-status" class="marker-status marker-inactive">
            <div class="component-name">üß† AMD Ryzen 5 3600</div>
            <div class="component-description">–ú–∞—Ä–∫–µ—Ä (ryzen_3600.mind) - –ù–ï –ó–ù–ê–ô–î–ï–ù–û</div>
        </div>
        
        <div id="ram-status" class="marker-status marker-inactive">
            <div class="component-name">üíæ Kingston RAM</div>
            <div class="component-description">–ú–∞—Ä–∫–µ—Ä (ram_kingston.mind) - –ù–ï –ó–ù–ê–ô–î–ï–ù–û</div>
        </div>
    </div>

    <div id="info-panel">
        <h3 id="info-title">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</h3>
        <p id="info-content">–ù–∞–≤–µ–¥—ñ—Ç—å –∫–∞–º–µ—Ä—É –Ω–∞ –º–∞—Ä–∫–µ—Ä –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó</p>
    </div>

    <div id="instructions">
        <div style="font-weight: bold; margin-bottom: 10px;">üìã –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó:</div>
        <div>‚Ä¢ –ù–∞–≤–µ–¥—ñ—Ç—å –∫–∞–º–µ—Ä—É –Ω–∞ –º–∞—Ä–∫–µ—Ä–∏</div>
        <div>‚Ä¢ –¢—Ä–∏–º–∞–π—Ç–µ –º–∞—Ä–∫–µ—Ä –≤ –∫–∞–¥—Ä—ñ —Å—Ç–∞–±—ñ–ª—å–Ω–æ</div>
        <div>‚Ä¢ –ó–∞–±–µ–∑–ø–µ—á—Ç–µ –¥–æ—Å—Ç–∞—Ç–Ω—î –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è</div>
        <div>‚Ä¢ –ú–æ–∂–Ω–∞ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –º–∞—Ä–∫–µ—Ä—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ</div>
    </div>

    <script type="module">
        import * as THREE from "three";
        import { GLTFLoader } from "GLTFLoader";

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
        const componentInfo = {
            motherboard: {
                name: "–ú–∞—Ç–µ—Ä–∏–Ω—Å—å–∫–∞ –ø–ª–∞—Ç–∞ B550",
                description: "–°—É—á–∞—Å–Ω–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å—å–∫–∞ –ø–ª–∞—Ç–∞ –Ω–∞ —á—ñ–ø—Å–µ—Ç—ñ AMD B550. –ü—ñ–¥—Ç—Ä–∏–º—É—î –ø—Ä–æ—Ü–µ—Å–æ—Ä–∏ AMD Ryzen —Å–µ—Ä—ñ—ó 3000 —Ç–∞ 5000.",
                specs: "Socket AM4, DDR4-3200, PCIe 4.0, USB 3.2, SATA 6Gb/s",
                color: 0x2e7d32,
                modelPath: "./models/b_550/scene.gltf"
            },
            cpu: {
                name: "AMD Ryzen 5 3600",
                description: "6-—è–¥–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å–æ—Ä –∑ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é Zen 2. –í—ñ–¥–º—ñ–Ω–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –¥–ª—è —ñ–≥–æ—Ä —Ç–∞ —Ä–æ–±–æ—á–∏—Ö –∑–∞–≤–¥–∞–Ω—å.",
                specs: "6 —è–¥–µ—Ä/12 –ø–æ—Ç–æ–∫—ñ–≤, 3.6-4.2 GHz, 32MB L3 Cache, 65W TDP",
                color: 0xed1c24,
                modelPath: "./models/cpu_ryzen_5_3600/scene.gltf"
            },
            ram: {
                name: "Kingston RAM",
                description: "–í–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω–∞ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ –ø–∞–º'—è—Ç—å Kingston. –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å —Ç–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å –¥–ª—è –±—É–¥—å-—è–∫–∏—Ö –∑–∞–≤–¥–∞–Ω—å.",
                specs: "DDR4, –≤–∏—Å–æ–∫—ñ —á–∞—Å—Ç–æ—Ç–∏, –Ω–∏–∑—å–∫—ñ —Ç–∞–π–º–∏–Ω–≥–∏, –≥–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ",
                color: 0x000000,
                modelPath: "./models/ram_kingston/scene.gltf"
            }
        };

        class PCComponentsAR {
            constructor() {
                this.mindarThree = null;
                this.scene = null;
                this.camera = null;
                this.renderer = null;
                this.anchors = [];
                this.isInitialized = false;
                this.activeComponents = new Set();
            }

            async init() {
                try {
                    const { MindARThree } = window.MINDAR.IMAGE;
                    
                    this.updateMainStatus("üîÑ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è MindAR...");
                    
                    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è MindAR –∑ –∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–º —Ñ–∞–π–ª–æ–º –º–∞—Ä–∫–µ—Ä—ñ–≤
                    this.mindarThree = new MindARThree({
                        container: document.body,
                        imageTargetSrc: "./markers.mind", // –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π —Ñ–∞–π–ª –∑ 3 –º–∞—Ä–∫–µ—Ä–∞–º–∏
                    });

                    const { renderer, scene, camera } = this.mindarThree;
                    this.renderer = renderer;
                    this.scene = scene;
                    this.camera = camera;

                    // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è
                    this.setupLighting();

                    // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–Ω–∫–æ—Ä—ñ–≤ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞
                    await this.createAnchors();

                    // –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–∏
                    this.updateMainStatus("üöÄ –ó–∞–ø—É—Å–∫ AR –∫–∞–º–µ—Ä–∏...");
                    await this.mindarThree.start();
                    
                    this.updateMainStatus("‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞! –ù–∞–≤–µ–¥—ñ—Ç—å –∫–∞–º–µ—Ä—É –Ω–∞ –º–∞—Ä–∫–µ—Ä–∏");
                    this.isInitialized = true;

                    // –ó–∞–ø—É—Å–∫ —Ü–∏–∫–ª—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É
                    this.startRenderLoop();

                } catch (error) {
                    console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó:", error);
                    this.updateMainStatus("‚ùå –ü–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó AR —Å–∏—Å—Ç–µ–º–∏");
                }
            }

            setupLighting() {
                // Ambient –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
                this.scene.add(ambientLight);

                // –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–µ –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è
                const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
                directionalLight.position.set(1, 1, 1);
                directionalLight.castShadow = true;
                this.scene.add(directionalLight);

                // –î–æ–¥–∞—Ç–∫–æ–≤–µ –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è
                const light2 = new THREE.DirectionalLight(0xffffff, 0.4);
                light2.position.set(-1, -1, -1);
                this.scene.add(light2);
            }

            async createAnchors() {
                const components = ['motherboard', 'cpu', 'ram']; // –ú–∞—Ä–∫–µ—Ä 0=Motherboard, –ú–∞—Ä–∫–µ—Ä 1=CPU, –ú–∞—Ä–∫–µ—Ä 2=RAM
                
                for (let i = 0; i < components.length; i++) {
                    const component = components[i];
                    const anchor = this.mindarThree.addAnchor(i);
                    this.anchors.push(anchor);

                    // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 3D –∫–æ–Ω—Ç–µ–Ω—Ç—É –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
                    await this.create3DContent(anchor, component, i);

                    // –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –¥–ª—è –º–∞—Ä–∫–µ—Ä—ñ–≤
                    anchor.onTargetFound = () => {
                        console.log(`üéØ ${component.toUpperCase()} –º–∞—Ä–∫–µ—Ä –∑–Ω–∞–π–¥–µ–Ω–æ –Ω–∞ –ø–æ–∑–∏—Ü—ñ—ó ${i}!`);
                        this.onMarkerFound(component);
                    };

                    anchor.onTargetLost = () => {
                        console.log(`‚ùå ${component.toUpperCase()} –º–∞—Ä–∫–µ—Ä –≤—Ç—Ä–∞—á–µ–Ω–æ –Ω–∞ –ø–æ–∑–∏—Ü—ñ—ó ${i}`);
                        this.onMarkerLost(component);
                    };
                }
            }

            async create3DContent(anchor, component, index) {
                const info = componentInfo[component];
                const loader = new GLTFLoader();
                
                try {
                    console.log(`üîÑ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –¥–ª—è ${component}: ${info.modelPath}`);
                    
                    const gltf = await new Promise((resolve, reject) => {
                        loader.load(
                            info.modelPath,
                            (gltf) => resolve(gltf),
                            (progress) => {
                                console.log(`üìà –ü—Ä–æ–≥—Ä–µ—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è ${component}:`, (progress.loaded / progress.total * 100) + '%');
                            },
                            (error) => reject(error)
                        );
                    });
                    
                    // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø–∏ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
                    const group = new THREE.Group();
                    
                    // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ
                    const model = gltf.scene;
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–∑–º—ñ—Ä—É –º–æ–¥–µ–ª—ñ
                    const box = new THREE.Box3().setFromObject(model);
                    const size = box.getSize(new THREE.Vector3());
                    const maxSize = Math.max(size.x, size.y, size.z);
                    let scale = 1.0 / maxSize; // –ë–∞–∑–æ–≤–∏–π –º–∞—Å—à—Ç–∞–±
                    
                    // –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Å–∫–µ–π–ª—ñ–Ω–≥ –¥–ª—è CPU
                    if (component === 'cpu') {
                        scale = scale * 0.5; // –ó–º–µ–Ω—à—É—î–º–æ CPU —É 2 —Ä–∞–∑–∏
                        console.log(`üîß CPU –º–∞—Å—à—Ç–∞–± –∑–º–µ–Ω—à–µ–Ω–æ —É 2 —Ä–∞–∑–∏: ${scale}`);
                    }
                    
                    model.scale.set(scale, scale, scale);
                    
                    // –¶–µ–Ω—Ç—Ä—É–≤–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ
                    const center = box.getCenter(new THREE.Vector3());
                    model.position.set(-center.x * scale, -center.y * scale, -center.z * scale);
                    
                    // –ü–æ–≤–æ—Ä–æ—Ç CPU —Ç–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å—å–∫–æ—ó –ø–ª–∞—Ç–∏ –Ω–∞ 90 –≥—Ä–∞–¥—É—Å—ñ–≤ –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
                    if (component === 'cpu' || component === 'motherboard') {
                        model.rotation.x = Math.PI / 2; // 90 –≥—Ä–∞–¥—É—Å—ñ–≤
                        console.log(`üîÑ ${component.toUpperCase()} –ø–æ–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ 90¬∞ –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è`);
                    }
                    
                    // –î–æ–¥–∞–≤–∞–Ω–Ω—è –∞–Ω—ñ–º–∞—Ü—ñ—ó –æ–±–µ—Ä—Ç–∞–Ω–Ω—è
                    model.userData = {
                        component: component,
                        rotationSpeed: 0.01,
                        originalScale: scale
                    };
                    
                    group.add(model);

                    // –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –∑ –Ω–∞–∑–≤–æ—é
                    this.addTextLabel(group, info.name, component);

                    // –î–æ–¥–∞–≤–∞–Ω–Ω—è —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä—ñ–≤
                    this.addIndicators(group, info.color);

                    anchor.group.add(group);
                    
                    console.log(`‚úÖ –ú–æ–¥–µ–ª—å ${component} –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ —É—Å–ø—ñ—à–Ω–æ –∑ –º–∞—Å—à—Ç–∞–±–æ–º ${scale}`);
                    
                } catch (error) {
                    console.error(`‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ ${component}:`, error);
                    this.updateMainStatus(`‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ ${component}`);
                }
            }

            addTextLabel(group, text, component) {
                // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–æ—ó –ø–ª–æ—â–∏–Ω–∏
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.width = 512;
                canvas.height = 128;
                
                context.fillStyle = '#000000';
                context.fillRect(0, 0, canvas.width, canvas.height);
                
                context.fillStyle = '#ffffff';
                context.font = 'bold 48px Arial';
                context.textAlign = 'center';
                context.fillText(text, canvas.width/2, canvas.height/2 + 15);
                
                const texture = new THREE.CanvasTexture(canvas);
                const material = new THREE.MeshBasicMaterial({ 
                    map: texture, 
                    transparent: true,
                    alphaTest: 0.1
                });
                
                const geometry = new THREE.PlaneGeometry(1, 0.25);
                const textMesh = new THREE.Mesh(geometry, material);
                textMesh.position.set(0, -0.7, 0);
                
                group.add(textMesh);
            }

            addIndicators(group, color) {
                // –ö—ñ–ª—å—Ü–µ–≤–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä
                const ringGeometry = new THREE.RingGeometry(0.7, 0.75, 32);
                const ringMaterial = new THREE.MeshBasicMaterial({ 
                    color: color,
                    transparent: true,
                    opacity: 0.6,
                    side: THREE.DoubleSide
                });
                
                const ring = new THREE.Mesh(ringGeometry, ringMaterial);
                ring.position.set(0, 0, -0.1);
                ring.userData.pulsePhase = Math.random() * Math.PI * 2;
                
                group.add(ring);
            }

            onMarkerFound(component) {
                this.activeComponents.add(component);
                this.updateMarkerStatus(component, true);
                this.showComponentInfo(component);
                
                console.log(`‚úÖ –ê–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: ${component}`);
                console.log(`üìä –ê–∫—Ç–∏–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:`, Array.from(this.activeComponents));
            }

            onMarkerLost(component) {
                this.activeComponents.delete(component);
                this.updateMarkerStatus(component, false);
                this.hideComponentInfo();
                
                console.log(`‚ùå –î–µ–∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: ${component}`);
                console.log(`üìä –ê–∫—Ç–∏–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:`, Array.from(this.activeComponents));
            }

            updateMarkerStatus(component, isActive) {
                const statusElement = document.getElementById(`${component}-status`);
                if (statusElement) {
                    const info = componentInfo[component];
                    const markerNames = {
                        motherboard: 'b_550.mind',
                        cpu: 'ryzen_3600.mind', 
                        ram: 'ram_kingston.mind'
                    };
                    const statusText = isActive ? '–ó–ù–ê–ô–î–ï–ù–û ‚úÖ' : '–ù–ï –ó–ù–ê–ô–î–ï–ù–û ‚ùå';
                    
                    statusElement.querySelector('.component-description').textContent = 
                        `–ú–∞—Ä–∫–µ—Ä (${markerNames[component]}) - ${statusText}`;
                    
                    statusElement.className = `marker-status ${isActive ? 'marker-active' : 'marker-inactive'}`;
                    
                    if (isActive) {
                        statusElement.classList.add('pulse');
                        setTimeout(() => statusElement.classList.remove('pulse'), 2000);
                    }
                }
            }

            showComponentInfo(component) {
                const info = componentInfo[component];
                const infoPanel = document.getElementById('info-panel');
                const infoTitle = document.getElementById('info-title');
                const infoContent = document.getElementById('info-content');
                
                infoTitle.textContent = info.name;
                infoContent.innerHTML = `
                    <p><strong>–û–ø–∏—Å:</strong> ${info.description}</p>
                    <p><strong>–°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:</strong> ${info.specs}</p>
                `;
                
                infoPanel.style.display = 'block';
            }

            hideComponentInfo() {
                if (this.activeComponents.size === 0) {
                    document.getElementById('info-panel').style.display = 'none';
                }
            }

            startRenderLoop() {
                this.renderer.setAnimationLoop(() => {
                    this.animate();
                    this.renderer.render(this.scene, this.camera);
                });
            }

            animate() {
                const time = Date.now() * 0.001;
                
                this.anchors.forEach(anchor => {
                    anchor.group.children.forEach(group => {
                        // –ê–Ω—ñ–º–∞—Ü—ñ—è –æ—Å–Ω–æ–≤–Ω–æ—ó –º–æ–¥–µ–ª—ñ
                        group.children.forEach(child => {
                            if (child.userData && child.userData.component) {
                                // –û–±–µ—Ä—Ç–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ
                                child.rotation.y += child.userData.rotationSpeed;
                                
                                // –õ–µ–≥–∫–µ –∫–æ–ª–∏–≤–∞–Ω–Ω—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—ñ
                                child.position.y = Math.sin(time * 2) * 0.05;
                            }
                        });
                        
                        // –ü—É–ª—å—Å–∞—Ü—ñ—è –∫—ñ–ª—å—Ü—è
                        const ring = group.children.find(child => child.geometry instanceof THREE.RingGeometry);
                        if (ring) {
                            const pulse = Math.sin(time * 2 + ring.userData.pulsePhase) * 0.1 + 0.9;
                            ring.material.opacity = pulse * 0.6;
                            ring.rotation.z += 0.005;
                        }
                    });
                });
            }

            updateMainStatus(message) {
                const statusDiv = document.getElementById('main-status');
                if (statusDiv) {
                    statusDiv.textContent = message;
                }
            }
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        window.addEventListener("DOMContentLoaded", async () => {
            console.log("üöÄ –ü–æ—á–∞—Ç–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó AR —Å–∏—Å—Ç–µ–º–∏");
            
            const arSystem = new PCComponentsAR();
            
            try {
                await arSystem.init();
                console.log("‚úÖ AR —Å–∏—Å—Ç–µ–º–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —É—Å–ø—ñ—à–Ω–æ");
            } catch (error) {
                console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–ø—É—Å–∫—É AR —Å–∏—Å—Ç–µ–º–∏:", error);
                document.getElementById('main-status').textContent = `‚ùå –ü–æ–º–∏–ª–∫–∞: ${error.message}`;
            }
            
            // –ü—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –µ–∫—Ä–∞–Ω—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
            setTimeout(() => {
                const loading = document.getElementById("loading");
                if (loading) {
                    loading.style.display = "none";
                    console.log("–ï–∫—Ä–∞–Ω –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏—Ö–æ–≤–∞–Ω–æ");
                }
            }, 3000);
        });

        // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
        window.addEventListener('error', (e) => {
            console.error('–ì–ª–æ–±–∞–ª—å–Ω–∞ –ø–æ–º–∏–ª–∫–∞:', e.error);
            document.getElementById('main-status').textContent = '‚ùå –ü–æ–º–∏–ª–∫–∞ —Å–∏—Å—Ç–µ–º–∏';
        });
    </script>
</body>
</html>